<div class="mainpart">
  <div class="container py-3">
    <!-- Navbar -->
    <!-- <nav class="navbar">
      <div class="logo">Customer Profile</div>
      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="/myjob">Appoinment Records</a></li>
        <li><a href="/addjob">New Enrollment</a></li>
        
        <li><a href="/parentrofile">Your Profile</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav> -->
    <app-cnavbar></app-cnavbar>

    <!-- Employer Profile Card -->
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10">
        <div *ngIf="parent" class="card">
          <!-- Card Header -->
          <div class="card-header">
            <h4 class="mb-0">
              <i class="bi bi-building me-2"></i>
              Customer Profile
            </h4>
          </div>

          <div class="card-body">
            <div class="row align-items-center">
              <!-- Company Logo -->
              <div class="col-md-3 text-center mb-4 mb-md-0">
                <img [src]="'http://localhost:8085/images/parent/' + parent.photo" alt="Customer Photo"
                  class="img-thumbnail rounded-circle mb-3" />
                <h5 class="fw-bold text-primary">{{ parent.parentName || 'Parent Name' }}</h5>
              </div>

              <!-- Contact Info -->
              <div class="col-md-9">
                <div class="info-item">
                  <i class="bi bi-person-fill"></i>
                  <strong>Contact Person:</strong>
                  <span>{{ parent.contactPerson }}</span>
                </div>
                <div class="info-item">
                  <i class="bi bi-envelope-fill"></i>
                  <strong>Email:</strong>
                  <span>{{ parent.email }}</span>
                </div>
                <div class="info-item">
                  <i class="bi bi-telephone-fill"></i>
                  <strong>Phone:</strong>
                  <span>{{ parent.phone }}</span>
                </div>
                <div class="info-item">
                  <i class="bi bi-globe"></i>
                  <strong>Child Name:</strong>
                  <a [href]="parent.website" target="_blank" class="link-primary">
                    {{ parent.childName }}
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Loading State -->
        <div *ngIf="!parent" class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3 text-muted">Loading parent profile...</p>
        </div>
      </div>
    </div>

    <!-- Menu Card (now below parent profile) -->
    <!-- <div class="row justify-content-center">
      <div class="col-12 col-lg-10 menu-card">
        <div class="card">
          <div class="card-body">
            <h5 class="fw-bold mb-3">Menu</h5>
            <div class="d-grid gap-2">
              <button class="btn btn-outline-primary" [routerLink]="['/myjob']">
                <i class="bi bi-briefcase-fill me-2"></i> My Jobs
              </button>
              <button class="btn btn-outline-primary" [routerLink]="['/addjob']">
                <i class="bi bi-plus-circle me-2"></i> Post New Job
              </button>
              <button class="btn btn-outline-primary" [routerLink]="['/profile/edit']">
                <i class="bi bi-person-gear me-2"></i> Edit Profile
              </button>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </div>

  <!-- Fixed Logout Button -->
  <button class="fixed-logout" (click)="onLogout()">
    <i class="bi bi-box-arrow-right"></i> Logout
  </button>


  <!-- myjob start from here -->

  <div class="container py-3 bg-info bg-opacity-25">

    <!-- Loading -->
    <!-- Loading -->
    <div *ngIf="loading" class="loading-wrapper">
      <div class="spinner"></div>
      <p>Loading your jobs...</p>
    </div>

    <!-- Error -->
    <div *ngIf="!loading && errorMsg" class="error-box">
      {{ errorMsg }}
    </div>

    <!-- Jobs Dashboard Table -->
    <div *ngIf="!loading && jobs.length > 0" class="jobs-dashboard">
      <div class="header-bar">
        <h3>üìã Appointments Requests</h3>
        <span class="count">Total: {{ jobs.length }}</span>
      </div>

      <div class="table-container">
        <table class="jobs-table">
          <thead>
            <tr>
              <th>Subject</th>
              <th>Time</th>
              <th>Remuneration</th>
              <th>Description</th>
              <th>Posted Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let job of jobs">
              <td class="job-title">{{ job.title }}</td>
              <td><span class="badge">{{ job.jobType }}</span></td>
              <td class="salary">${{ job.salary }}</td>
              <td>{{ job.description | slice:0:60 }}...</td>
              <td>{{ job.postedDate | date:'mediumDate' }}</td>
              <td class="actions">
                <!-- <button [routerLink]="['/job/edit', job.id]" class="btn-action edit">
                  ‚úèÔ∏è Edit
                </button> -->
                <button [routerLink]="['/application/', job.id]" class="btn-action applicants">
                  üë• Interested Candidate
                </button>
                <!-- <button class="btn-action delete">
                  üóëÔ∏è Delete
                </button> -->
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- No Jobs -->
    <div *ngIf="!loading && jobs.length === 0" class="no-jobs">
      <p>üö´ You have not posted any jobs yet.</p>
    </div>



  </div>

</div>



<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>