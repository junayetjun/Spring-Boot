<app-navbar></app-navbar>
<div class="mainpart">
  <div *ngIf="caregiver" class="container py-5">
    <div class="card p-4 card-soft-mint"
      style="border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); background: #f0f4f8;">

      <div class="row align-items-center">
        <div class="col-md-3 text-center">
          <img [src]="'http://localhost:8085/images/caregiver/'+caregiver.photo" alt="Profile Image"
            class="profile-img mb-3"
            style="height:150px; width:150px; border-radius:50%; object-fit:cover; border:3px solid #6c63ff;">
          <h4 class="mb-0">{{ caregiver.name }}</h4>
          <p class="text-muted">{{ caregiver.gender }}</p>
        </div>
        <div class="col-md-9">
          <div class="row mb-2">
            <div class="col-md-6 info-field"><strong>Email:</strong> {{ caregiver.email }}</div>
            <div class="col-md-6 info-field"><strong>Phone:</strong> {{ caregiver.phone }}</div>
            <div class="col-md-6 info-field"><strong>Address:</strong> {{ caregiver.address }}</div>
            <div class="col-md-6 info-field"><strong>Date of Birth:</strong> {{ caregiver.dateOfBirth }}</div>
          </div>
        </div>
      </div>

      <!-- Buttons Below Card -->
      <div class="d-flex justify-content-center mt-4 button-group">
        <button type="button" class="btn btn-outline-primary" routerLink="/apply">Applied Jobs</button>
        <button type="button" class="btn btn-outline-primary" routerLink="/pinfo">Attach Personal Info</button>
      </div>

    </div>



    <!-- Button trigger modal -->
    <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Add Education
      </button> -->

    <!-- Add Experience Button -->
    <!-- <button type="button" class="btn btn-dark mt-3" data-bs-toggle="modal" data-bs-target="#experienceModal">
        Add Experience
      </button>

      <button type="button" class="btn btn-danger mt-3" data-bs-toggle="modal" data-bs-target="#skillModal">
        Add Skill
      </button>

      <button type="button" class="btn btn-success mt-3" data-bs-toggle="modal" data-bs-target="#referenceModal">
        Add Reference
      </button>

      <button class="btn btn-secondary mt-3" data-bs-toggle="modal" data-bs-target="#languageModal">
        Add Language
      </button>

      <button class="btn btn-outline-dark mt-3" data-bs-toggle="modal" data-bs-target="#hobbyModal">
        Add Hobby
      </button> -->
  </div>


</div>

<!--education Modal -->
<!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Education</h1>

          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <form (ngSubmit)="addEducation()">
            <div class="mb-3">
              <label>Level</label>
              <input type="text" [(ngModel)]="newEducation.level" name="level" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label>Institute</label>
              <input type="text" [(ngModel)]="newEducation.institute" name="institute" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label>Result</label>
              <input type="text" [(ngModel)]="newEducation.result" name="result" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label>Year</label>
              <input type="text" [(ngModel)]="newEducation.year" name="year" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Add Education</button>
          </form>
        </div>
      </div>
    </div>
  </div> -->

<!-- modal close -->

<div class="profile-container">

  <!-- Caregiver Header -->
  <!-- <div *ngIf="caregiver" class="profile-header">
    <div class="profile-photo">
      <img [src]="'http://localhost:8085/images/caregiver/'+caregiver.photo" alt="Profile Image">
    </div>
    <div class="profile-info">
      <h2>{{ caregiver.name }}</h2>
      <p class="text-muted">{{ caregiver.gender }}</p>
      <div class="contact-info">
        <span><strong>Email:</strong> {{ caregiver.email }}</span>
        <span><strong>Phone:</strong> {{ caregiver.phone }}</span>
        <span><strong>Address:</strong> {{ caregiver.address }}</span>
        <span><strong>Date of Birth:</strong> {{ caregiver.dateOfBirth }}</span>
      </div>
      <div class="profile-buttons">
        <button class="btn btn-primary" routerLink="/apply">Applied Jobs</button>
        <button class="btn btn-outline-primary" routerLink="/pinfo">Attach Personal Info</button>
      </div>
    </div>
  </div> -->

  <!-- Sections -->
  <div class="sections">

    <!-- Education -->
    <section *ngIf="educations.length > 0" class="section-card">
      <h4>Academic Details</h4>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Class</th>
            <th>Institute</th>
            <th>Board</th>
            <th>Result</th>
            <th>Year</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let edu of educations">
            <td>{{ edu.level }}</td>
            <td>{{ edu.institute }}</td>
            <td>{{ edu.board }}</td>
            <td>{{ edu.result }}</td>
            <td>{{ edu.year }}</td>
            <td><button class="btn btn-sm btn-danger" (click)="deleteEducation(edu.id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Experience -->
    <section *ngIf="experiences.length > 0" class="section-card">
      <h4>Career Journey</h4>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Institution</th>
            <th>Designation</th>
            <th>From</th>
            <th>To</th>
            <th>Description</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let exp of experiences">
            <td>{{ exp.institution }}</td>
            <td>{{ exp.position }}</td>
            <td>{{ exp.fromDate }}</td>
            <td>{{ exp.toDate }}</td>
            <td>{{ exp.description }}</td>
            <td><button class="btn btn-sm btn-danger" (click)="deleteExperience(exp.id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Skills -->
    <section *ngIf="skills.length > 0" class="section-card">
      <h4>Expertise</h4>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Level</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let skill of skills">
            <td>{{ skill.name }}</td>
            <td>{{ skill.level }}</td>
            <td><button class="btn btn-sm btn-danger" (click)="deleteSkill(skill.id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Languages -->
    <section *ngIf="languages.length > 0" class="section-card">
      <h4>Language Proficiency</h4>
      <ul class="list-group list-group-flush">
        <li *ngFor="let language of languages" class="list-group-item d-flex justify-content-between align-items-center">
          {{ language.name }} <span class="badge bg-primary">{{ language.proficiency }}</span>
          <button class="btn btn-sm btn-danger" (click)="deleteLanguage(language.id)">Delete</button>
        </li>
      </ul>
    </section>

    <!-- Hobbies -->
    <section *ngIf="hobbies.length > 0" class="section-card">
      <h4>Hobbies & Interests</h4>
      <ul class="list-group list-group-flush">
        <li *ngFor="let hobby of hobbies" class="list-group-item d-flex justify-content-between align-items-center">
          {{ hobby.name }}
          <button class="btn btn-sm btn-danger" (click)="deleteHobby(hobby.id)">Delete</button>
        </li>
      </ul>
    </section>

    <!-- References -->
    <section *ngIf="references.length > 0" class="section-card">
      <h4>Recommendation</h4>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Contact</th>
            <th>Relation</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let reference of references">
            <td>{{ reference.name }}</td>
            <td>{{ reference.contact }}</td>
            <td>{{ reference.relation }}</td>
            <td><button class="btn btn-sm btn-danger" (click)="deleteReference(reference.id)">Delete</button></td>
          </tr>
        </tbody>
      </table>
    </section>

  </div>
</div>
